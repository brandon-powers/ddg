#!/usr/bin/env bash

set -euo pipefail
IFS=$'\n\t'
set -vx

curl -fsSL https://github.com/rbenv/rbenv-installer/raw/master/bin/rbenv-installer | bash

echo 'eval "$(rbenv init -)"' > ~/.bashrc
echo 'export PATH=$PATH:~/.rbenv/bin' > ~/.bashrc
. ~/.bashrc

rbenv init

curl -fsSL https://github.com/rbenv/rbenv-installer/raw/master/bin/rbenv-doctor | bash

sudo apt-get install gcc
sudo apt-get install make
sudo apt-get install -y libssl-dev libreadline-dev zlib1g-dev

rbenv install 2.3.3

# This installs the machine requirements to
# interact with these data stores.
sudo apt-get install postgresql postgresql-contrib postgresql-client
sudo apt-get install libpq-dev
sudo apt-get install mysql-server

sudo apt-get install libmysqlclient-dev

gem install bundler
bundle install

# This is required if you want to generate visualizations.
sudo apt-get install graphviz
